; Basic component configuration
;;
templates   = "templates/"
languages   = "languages/"
;action     = "display"

name        = "Map and Geocoder"
description = "Show resources on a map. Supports Google Maps, OpenStreetMap and Yahoo. Furthermore it connects geocoding APIs (currently just google)."
author      = "AKSW"
authorUrl   = "http://aksw.org"
license     = "http://opensource.org/licenses/gpl-license.php GNU General Public License (GPL)"

priority    = 20
contexts[]  = "main.window.properties"
contexts[]  = "main.window.instances"
contexts[]  = "main.window.map"
contexts[]  = "main.window.geocode"

confAction  = "map/config"

;;
; Component's private configuration
; Anything set below will be available within the component ($this->_privateConfig->key)
;;
[private]

; possible values are "ever" to switch the tab on, "never" to switch the tab off or thomething else to show the tab if geospacial things are in the session
show._tab[]           = "auto"
show._tab[]           = "never"
show._tab[]           = "ever"
show.tab              = "auto"

; here you can enable different map provider types
load.google           = true
load.osm              = true
load.localMap         = false
load.yahoo            = false ; not supported

; you can run a local Tile server e.g. by downloading tiles with jtiledownloader
; you have to mask dolar-signs ('$') with a backslash ('\')
localMap.titel        = "Local Map";
localMap.url          = "http://localhost/tiles/\${z}/\${x}/\${y}.png";

; this is the config var for the default map layer
; set the title of the map
default._layer[]      = "Google Streets"
default._layer[]      = "Google Hybrid"
default._layer[]      = "Google Satellite"
default._layer[]      = "Google Physical"
default._layer[]      = "OpenStreetMap"
default._layer[]      = "Local Map"
default.layer         = "OpenStreetMap"

; fallback location, if map is displayed but no resources could be found
default.latitude      = 51.33687
default.longitude     = 12.38538

; set the latitude and longitude properties for resources.
; at the moment only the first entry in each of these arrays is supported
property._latitude[]  = "http://www.w3.org/2003/01/geo/wgs84_pos#lat"
property._latitude[]  = "http://www.uni-leipzig.de/unigeschichte/professorenkatalog/Latitude"
property.latitude[]   = "http://www.w3.org/2003/01/geo/wgs84_pos#lat"

property._longitude[] = "http://www.w3.org/2003/01/geo/wgs84_pos#long"
property._longitude[] = "http://www.uni-leipzig.de/unigeschichte/professorenkatalog/Longitude"
property.longitude[]  = "http://www.w3.org/2003/01/geo/wgs84_pos#long"

; properties needed for geocode
property.street[]      = "http://ns.aksw.org/addressFeatures/physical/street"
property.housenumber[] = "http://ns.aksw.org/addressFeatures/physical/houseNumber"
property.postcode[]    = "http://ns.aksw.org/addressFeatures/physical/zip"
property.city[]        = "http://ns.aksw.org/addressFeatures/physical/city"
property.country[]     = "http://ns.aksw.org/addressFeatures/physical/country"
property.accuracy[]    = "http://ns.aksw.org/spatialFeatures/accuracy"

; set the apikeys for the supported providers (at the moment only google and yahoo are supported)
apikey.google         = "ABQIAAAAynyr50kleiy5o-uQwf2tTBRnE7oD7ulPnCTyuIl4SzAcqF9XxBSKle9ZP7LcJUMzGgym1wQT_TV0Uw"      ; localhost
apikey.yahoo          = "P7p9l9zV34H4XCVwfyOYUjckKPEttCqyczem_IO2xqjKkTk3G_TPf1fQtxlSk57Q8B0e8Sw-"

; configure the marker icons
; the values are documented in the OpenLayer API-doc
; http://dev.openlayers.org/releases/OpenLayers-2.7/doc/apidocs/files/OpenLayers/Icon-js.html
icon.path             = "../../themes/silverblue/images/marker.png"
icon.size             = "10,10"
icon.offset           = "-5,-5"
cluster.path          = "../../themes/silverblue/images/cluster-marker.png"
cluster.size          = "20,20"
cluster.offset        = "-10,-10"

; configure the clusteringalgorithm
clusterer.gridCount   = 10
clusterer.maxMarkers  = 4

; don't show map in following controllers
dontShowController[]  = "model"
dontShowController[]  = "application"
dontShowController[]  = "error"
dontShowController[]  = "debug"
dontShowController[]  = "module"
dontShowController[]  = "index"

; Geocoder needs this config option
exampleQuery = "SELECT ?uri ?street ?city ?postalcode ?country \n WHERE \n { \n\t?uri rdf:type foaf:Person . \n\t OPTIONAL { ?uri myModel:country ?countryUri. ?countryUri rdfs:label ?country } . \n\t OPTIONAL { ?uri myModel:city ?cityUri.?cityUri rdfs:label ?city } .\n\t OPTIONAL { ?uri myModel:postalcode ?postalcode } .\n\t OPTIONAL { ?uri myModel:street ?street } .\n}"

; Geocode needs this config option
; Accuracy limit below which a "Low accuracy" warning is shown
geocodeAccuracyLimit = 5;

; Add a new line for each active geocoder. Name is the filename in geocoder_services
; Note: Please also check the corresponding service files in the "geocoder_services" folder
;	for additional configuration (API key, SPARQL endpoint location, etc.) options.
active_geocoders[]	= "bing"
active_geocoders[]	= "geonames"
active_geocoders[]	= "google"
active_geocoders[]	= "nominatim"
active_geocoders[]	= "postcodeNL"
active_geocoders[]	= "yahooPF"
active_geocoders[]	= "yahoo"

